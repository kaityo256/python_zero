<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
                <title>略解と解説</title>
    <style type="text/css">
      code {
        white-space: pre;
      }
    </style>
        <style type="text/css">
      div.sourceCode {
        overflow-x: auto;
      }

      table.sourceCode,
      tr.sourceCode,
      td.lineNumbers,
      td.sourceCode {
        margin: 0;
        padding: 0;
        vertical-align: baseline;
        border: none;
      }

      table.sourceCode {
        width: 100%;
        line-height: 100%;
      }

      td.lineNumbers {
        text-align: right;
        padding-right: 4px;
        padding-left: 4px;
        color: #aaaaaa;
        border-right: 1px solid #aaaaaa;
      }

      td.sourceCode {
        padding-left: 5px;
      }

      code>span.kw {
        color: #007020;
        font-weight: bold;
      }

      /* Keyword */
      code>span.dt {
        color: #902000;
      }

      /* DataType */
      code>span.dv {
        color: #40a070;
      }

      /* DecVal */
      code>span.bn {
        color: #40a070;
      }

      /* BaseN */
      code>span.fl {
        color: #40a070;
      }

      /* Float */
      code>span.ch {
        color: #4070a0;
      }

      /* Char */
      code>span.st {
        color: #4070a0;
      }

      /* String */
      code>span.co {
        color: #60a0b0;
        font-style: italic;
      }

      /* Comment */
      code>span.ot {
        color: #007020;
      }

      /* Other */
      code>span.al {
        color: #ff0000;
        font-weight: bold;
      }

      /* Alert */
      code>span.fu {
        color: #06287e;
      }

      /* Function */
      code>span.er {
        color: #ff0000;
        font-weight: bold;
      }

      /* Error */
      code>span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      }

      /* Warning */
      code>span.cn {
        color: #880000;
      }

      /* Constant */
      code>span.sc {
        color: #4070a0;
      }

      /* SpecialChar */
      code>span.vs {
        color: #4070a0;
      }

      /* VerbatimString */
      code>span.ss {
        color: #bb6688;
      }

      /* SpecialString */
      code>span.va {
        color: #19177c;
      }

      /* Variable */
      code>span.cf {
        color: #007020;
        font-weight: bold;
      }

      /* ControlFlow */
      code>span.op {
        color: #666666;
      }

      /* Operator */
      code>span.pp {
        color: #bc7a00;
      }

      /* Preprocessor */
      code>span.at {
        color: #7d9029;
      }

      /* Attribute */
      code>span.do {
        color: #ba2121;
        font-style: italic;
      }

      /* Documentation */
      code>span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      }

      /* Annotation */
      code>span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      }

      /* CommentVar */
      code>span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      }

      /* Information */
    </style>

    <style>
      .btn-square {
        display: inline-block;
        padding: 0.5em 0.5em;
        text-decoration: none;
        background: #668ad8;
        color: #FFF;
        border-bottom: solid 4px #626295;
        border-radius: 5px;
      }

      .btn-square:active {
        -webkit-transform: translateY(4px);
        transform: translateY(4px);
        border-bottom: none;
      }

      .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
      }

      p.caption {
        display: none;
      }

      img {
        width: 100%
      }



      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    </style>
    <link rel="stylesheet" href="https://kaityo256.github.io/python_zero/github-markdown.css" type="text/css" />

    <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
        <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">
  </head>

  <body>
    <article class="markdown-body">
                  <header>
        <h1 class="title">略解と解説</h1>
                              </header>
                  <p><a href="../index.html">[Up]</a> <a
                  href="https://github.com/kaityo256/python_zero">[Repository]</a></p>
                  <h1 id="第1章">第1章</h1>
                  <h2 id="発展課題">発展課題</h2>
                  <p>六芒星の描画。</p>
                  <div class="sourceCode" id="cb1"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>img <span class="op">=</span> Image.new(<span class="st">&quot;L&quot;</span>, (<span class="dv">256</span>, <span class="dv">256</span>), <span class="dv">255</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>draw <span class="op">=</span> ImageDraw.Draw(img)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>cx <span class="op">=</span> <span class="dv">128</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cy <span class="op">=</span> <span class="dv">128</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="dv">96</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>draw.ellipse((cx <span class="op">-</span> r, cy <span class="op">-</span> r, cx <span class="op">+</span> r, cy <span class="op">+</span> r))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> pi <span class="op">/</span> N</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(N):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    s1 <span class="op">=</span> s<span class="op">*</span>i <span class="op">-</span> <span class="fl">0.5</span> <span class="op">*</span> pi</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    s2 <span class="op">=</span> s1 <span class="op">+</span> s <span class="op">*</span> k</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> r <span class="op">*</span> cos(s1) <span class="op">+</span> cx</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    y1 <span class="op">=</span> r <span class="op">*</span> sin(s1) <span class="op">+</span> cy</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    x2 <span class="op">=</span> r <span class="op">*</span> cos(s2) <span class="op">+</span> cx</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    y2 <span class="op">=</span> r <span class="op">*</span> sin(s2) <span class="op">+</span> cy</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    draw.line((x1, y1, x2, y2))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    s1 <span class="op">=</span> s<span class="op">*</span>(i<span class="op">+</span><span class="fl">0.5</span>) <span class="op">-</span> <span class="fl">0.5</span> <span class="op">*</span> pi</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    s2 <span class="op">=</span> s1 <span class="op">+</span> s <span class="op">*</span> k</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> r <span class="op">*</span> cos(s1) <span class="op">+</span> cx</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    y1 <span class="op">=</span> r <span class="op">*</span> sin(s1) <span class="op">+</span> cy</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    x2 <span class="op">=</span> r <span class="op">*</span> cos(s2) <span class="op">+</span> cx</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    y2 <span class="op">=</span> r <span class="op">*</span> sin(s2) <span class="op">+</span> cy</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    draw.line((x1, y1, x2, y2))</span></code></pre></div>
                  <h1 id="第2章">第2章</h1>
                  <h2 id="課題2">課題2</h2>
                  <div class="sourceCode" id="cb2"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot(draw, s):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    hs <span class="op">=</span> s <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    red <span class="op">=</span> (<span class="dv">255</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    green <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">255</span>, <span class="dv">0</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    blue <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">255</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(s):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> y <span class="kw">in</span> <span class="bu">range</span>(s):</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            z <span class="op">=</span> <span class="bu">complex</span>(x <span class="op">-</span> hs <span class="op">+</span> <span class="fl">0.5</span>, <span class="op">-</span>y <span class="op">+</span> hs <span class="op">+</span> <span class="fl">0.5</span>) <span class="op">/</span> s <span class="op">*</span> <span class="dv">4</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>            z <span class="op">=</span> newton(z)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># ここを埋めよ</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> z.real <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>              c <span class="op">=</span> red</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> z.imag <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> green</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span>:</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> blue</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>            draw.rectangle([x, y, x <span class="op">+</span> <span class="dv">1</span>, y <span class="op">+</span> <span class="dv">1</span>], fill<span class="op">=</span>c)</span></code></pre></div>
                  <h2 id="発展課題-1">発展課題</h2>
                  <div class="sourceCode" id="cb3"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> newton(x):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> x <span class="op">-</span> (x<span class="op">**</span><span class="dv">4</span> <span class="op">-</span> <span class="dv">1</span>) <span class="op">/</span> (<span class="dv">4</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot(draw, s):</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    hs <span class="op">=</span> s <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    red <span class="op">=</span> (<span class="dv">255</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    green <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">255</span>, <span class="dv">0</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    blue <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">255</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    purple <span class="op">=</span> (<span class="dv">255</span>, <span class="dv">0</span> ,<span class="dv">255</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(s):</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> y <span class="kw">in</span> <span class="bu">range</span>(s):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            z <span class="op">=</span> <span class="bu">complex</span>(x <span class="op">-</span> hs <span class="op">+</span> <span class="fl">0.5</span>, <span class="op">-</span>y <span class="op">+</span> hs <span class="op">+</span> <span class="fl">0.5</span>) <span class="op">/</span> s <span class="op">*</span> <span class="dv">4</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            z <span class="op">=</span> newton(z)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            <span class="co"># ここを埋めよ</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> z.real <span class="op">+</span> z.imag <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> z.real <span class="op">-</span> z.imag <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> red</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span>:</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> purple</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> z.real <span class="op">-</span> z.imag <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> green</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span>:</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>                c <span class="op">=</span> blue</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>            draw.rectangle([x, y, x <span class="op">+</span> <span class="dv">1</span>, y <span class="op">+</span> <span class="dv">1</span>], fill<span class="op">=</span>c)</span></code></pre></div>
                  <h1 id="第3章">第3章</h1>
                  <h2 id="課題2-1">課題2</h2>
                  <div class="sourceCode" id="cb4"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> collatz(i):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> (i<span class="op">!=</span><span class="dv">1</span>):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (i<span class="op">%</span><span class="dv">2</span><span class="op">==</span><span class="dv">0</span>):</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            i <span class="op">=</span> i <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            i <span class="op">=</span> i <span class="op">*</span> <span class="dv">3</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(i)</span></code></pre></div>
                  <h2 id="発展課題-2">発展課題</h2>
                  <div class="sourceCode" id="cb5"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> collatz_graph(i, edges):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> (i<span class="op">!=</span><span class="dv">1</span> <span class="kw">and</span> i<span class="op">!=</span><span class="dv">3</span>):</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        j <span class="op">=</span> i</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (i<span class="op">%</span><span class="dv">2</span><span class="op">==</span><span class="dv">0</span>):</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            i <span class="op">=</span> i <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            i <span class="op">=</span> i <span class="op">*</span> <span class="dv">3</span> <span class="op">+</span> <span class="dv">3</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        edges.add((j, i))</span></code></pre></div>
                  <h1 id="第7章">第7章</h1>
                  <h2 id="課題1-1">課題1-1</h2>
                  <div class="sourceCode" id="cb6"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kaidan(n):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 終端条件</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n<span class="op">==</span><span class="dv">1</span>:</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n<span class="op">==</span><span class="dv">2</span>:</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 再帰部分</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> kaidan(n<span class="op">-</span><span class="dv">1</span>)<span class="op">+</span>kaidan(n<span class="op">-</span><span class="dv">2</span>)</span></code></pre></div>
                  <h2 id="課題2-1-1">課題2-1</h2>
                  <div class="sourceCode" id="cb7"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> solve(x, y, step, maze):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> maze[x][y] <span class="op">==</span> <span class="st">&#39;*&#39;</span>:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(maze[x][y], <span class="bu">int</span>):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    maze[x][y] <span class="op">=</span> step</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    solve(x<span class="op">+</span><span class="dv">1</span>, y, step<span class="op">+</span><span class="dv">1</span>, maze) <span class="co"># 右を探索</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 残りを埋めよ</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    solve(x<span class="op">-</span><span class="dv">1</span>, y, step<span class="op">+</span><span class="dv">1</span>, maze)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    solve(x, y<span class="op">+</span><span class="dv">1</span>, step<span class="op">+</span><span class="dv">1</span>, maze)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    solve(x, y<span class="op">-</span><span class="dv">1</span>, step<span class="op">+</span><span class="dv">1</span>, maze)</span></code></pre></div>
                  <h1 id="第9章">第9章</h1>
                  <p>そのまま実行すると、以下のように画像のところどころに黒い点が現れる「黒飛び」が発生する。</p>
                  <figure>
                  <img src="fig/numpy_without_clip.png"
                  alt="黒飛びのある画像" />
                  <figcaption
                  aria-hidden="true">黒飛びのある画像</figcaption>
                  </figure>
                  <p>近似画像の「黒飛び」が発生するのは、画像のピクセルの値が0から255の範囲から超えてしまうためだ。関数<code>svd</code>において、近似値を構成しているところで、以下のように最小値と最大値を指定してやると「黒飛び」がなくなる。</p>
                  <div class="sourceCode" id="cb8"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> np.asarray(ur <span class="op">*</span> sr <span class="op">*</span> vr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> np.clip(b, <span class="dv">0</span>,<span class="dv">255</span>)        <span class="co"># 最小値と最大値を指定</span></span></code></pre></div>
                  <figure>
                  <img src="fig/numpy_with_clip.png"
                  alt="黒飛びのない画像" />
                  <figcaption
                  aria-hidden="true">黒飛びのない画像</figcaption>
                  </figure>
                  <p>講義では「なぜ黒飛びが発生するか」を考察させると良い。</p>
                  <h1 id="第10章">第10章</h1>
                  <h2 id="課題2-2">課題2-2</h2>
                  <p>電卓に乗除算を追加する。</p>
                  <div class="sourceCode" id="cb9"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc(code):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> code.split()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    stack <span class="op">=</span> []</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> data:</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(stack, x, end<span class="op">=</span><span class="st">&quot; =&gt; &quot;</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> x <span class="op">==</span> <span class="st">&#39;+&#39;</span>:</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            b <span class="op">=</span> stack.pop()</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> stack.pop()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            stack.append(a<span class="op">+</span>b)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> x <span class="op">==</span> <span class="st">&#39;-&#39;</span>:</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>            b <span class="op">=</span> stack.pop()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> stack.pop()</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            stack.append(a<span class="op">-</span>b)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 以下を追加</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> x <span class="op">==</span> <span class="st">&#39;*&#39;</span>:</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            b <span class="op">=</span> stack.pop()</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> stack.pop()</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>            stack.append(a<span class="op">*</span>b)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> x <span class="op">==</span> <span class="st">&#39;/&#39;</span>:</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>            b <span class="op">=</span> stack.pop()</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> stack.pop()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>            stack.append(a<span class="op">//</span>b)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>            stack.append(<span class="bu">int</span>(x))</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(stack)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(stack.pop())</span></code></pre></div>
                  <h2 id="発展課題-3">発展課題</h2>
                  <p>例えば「1 + 2 * 3 -
                  4」の例であれば、まず以下を実行する。</p>
                  <div class="sourceCode" id="cb10"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dis.dis(<span class="st">&quot;a + b * c - d&quot;</span>)</span></code></pre></div>
                  <p>すると、以下のような結果が得られる。</p>
                  <div class="sourceCode" id="cb11"><pre
                  class="sourceCode txt"><code class="sourceCode default"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  1           0 LOAD_NAME                0 (a)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>              2 LOAD_NAME                1 (b)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>              4 LOAD_NAME                2 (c)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>              6 BINARY_MULTIPLY</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>              8 BINARY_ADD</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>             10 LOAD_NAME                3 (d)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>             12 BINARY_SUBTRACT</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>             14 RETURN_VALUE</span></code></pre></div>
                  <p>これを見ながら、逆ポーランド記法を組み立てる。<code>LOAD_NAME</code>はそのまま値を、<code>BINARY_MULITPLY</code>は乗算記号<code>*</code>をと書いていくと<code>1 2 3 * + 4 -</code>という文字列を作ることができる。「電卓」に入力してみると</p>
                  <div class="sourceCode" id="cb12"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>calc(<span class="st">&quot;1 2 3 * + 4 -&quot;</span>)</span></code></pre></div>
                  <div class="sourceCode" id="cb13"><pre
                  class="sourceCode txt"><code class="sourceCode default"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>[] 1 =&gt; [1]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>[1] 2 =&gt; [1, 2]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>[1, 2] 3 =&gt; [1, 2, 3]</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>[1, 2, 3] * =&gt; [1, 6]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>[1, 6] + =&gt; [7]</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>[7] 4 =&gt; [7, 4]</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>[7, 4] - =&gt; [3]</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>3</span></code></pre></div>
                  <p>と、正しい答え3が得られる。「(1 + 2 * 3) /
                  4」の場合も同様。</p>
                  <h1 id="第12章">第12章</h1>
                  <h2 id="課題1">課題1</h2>
                  <p>最初に選んだ箱が正解だった場合は、残りの箱からランダムに選ぶので、</p>
                  <div class="sourceCode" id="cb14"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>      second_choice <span class="op">=</span> choice(rest_boxes) <span class="co"># ここを埋めよ(1)</span></span></code></pre></div>
                  <p>また、最初に選んだ箱が正解ではなかった場合は、次に選ぶ箱は必ず正解になるので</p>
                  <div class="sourceCode" id="cb15"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>      second_choice <span class="op">=</span> answer <span class="co"># ここを埋めよ(2)</span></span></code></pre></div>
                  <h2 id="課題2-3">課題2</h2>
                  <p>左から右に通行可能な確率は、道路の通行可能確率pが0.5より小さいとほとんどゼロ、0.5より大きいとほぼ1という、ステップ関数のような関数になる。このように、パラメタを変えた時、あるところで系の状態が劇的に変化する現象を相転移と呼ぶ。パーコレーションは相転移を起こす最も簡単なモデルの一つである。</p>
                  <h2 id="発展課題-4">発展課題</h2>
                  <div class="sourceCode" id="cb16"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gacha(n):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    cd <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    posters <span class="op">=</span> []</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="bu">len</span>(<span class="bu">set</span>(posters)) <span class="op">&lt;</span> n:</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>        posters.append(random.randint(<span class="dv">1</span>, n))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        cd <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cd</span></code></pre></div>
                  <h1 id="第13章">第13章</h1>
                  <h2 id="課題2-4">課題2</h2>
                  <div class="sourceCode" id="cb17"><pre
                  class="sourceCode py"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="at">@jit</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> laplacian(m, n, s):</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">+=</span> s[m<span class="op">+</span><span class="dv">1</span>][n]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">+=</span> s[m<span class="op">-</span><span class="dv">1</span>][n]</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">+=</span> s[m][n<span class="op">+</span><span class="dv">1</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">+=</span> s[m][n<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ここを埋めよ</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    ts <span class="op">-=</span> <span class="dv">4</span><span class="op">*</span>s[m][n]</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ts</span></code></pre></div>
          </article>
  </body>

  </html>